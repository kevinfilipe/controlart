<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<p:dialog id="modalPeca" appendToBody="false" modal="true"
		resizable="false" styleClass="dialog" widgetVar="modalPecaWV"
		width="730">
		<f:facet name="header">
			<h:outputLabel value="#{msgs.labelNovaPeca}"
				rendered="#{pecaBean.novoRegistro}" />
			<h:outputLabel value="#{msgs.labelEditarPeca}"
				rendered="#{not pecaBean.novoRegistro}" />
		</f:facet>

		<h:form id="formModalPeca">
			<p:growl globalOnly="true" life="10000" />

			<h:panelGroup styleClass="panel-principal" layout="block">
				<h:panelGroup styleClass="sub-panel-left" layout="block">
					<h:panelGroup id="panelSwitchImagens"
						styleClass="sub-panel-left-switch" layout="block">
						<p:graphicImage rendered="#{pecaBean.imagemBean.qtdImagens eq 0}"
							styleClass="sub-panel-left-switch-image"
							url="#{resource['image:no_image_ico.png']}" />

						<p:imageSwitch rendered="#{pecaBean.imagemBean.qtdImagens ne 0}"
							effect="fade">
							<ui:repeat value="#{pecaBean.imagemBean.listImagens}"
								var="listaImagens">
								<p:graphicImage styleClass="sub-panel-left-switch-image"
									url="/#{pecaBean.imagemBean.pathImagensTemporarias}#{listaImagens.nome}" />
							</ui:repeat>
						</p:imageSwitch>
					</h:panelGroup>

					<p:commandButton styleClass="sub-panel-left-botao-imagens"
						value="#{msgs.labelImagens}" onclick="modalImagensWV.show();"
						update=":formModalImagens" />

					<p:panelGrid styleClass="sub-panel-left-grid" columns="3">
						<h:outputLabel value="#{msgs.labelMaterial}" />
						<p:inputText
							disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}"
							value="#{pecaBean.peca.material}" />
						<h:outputLabel value="" />

						<h:outputLabel value="#{msgs.labelEstado}" />
						<p:inputText
							disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}"
							id="estado" value="#{pecaBean.peca.estado}">
							<f:validateLength maximum="50" />
						</p:inputText>
						<p:message for="estado" />

						<h:outputLabel value="#{msgs.labelHistorico}" />
						<p:inputText
							disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}"
							value="#{pecaBean.peca.historico}" />
						<h:outputLabel value="" />

						<h:outputLabel value="#{msgs.labelDisponivelLeilao}" />
						<p:selectOneRadio
							disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}"
							value="#{pecaBean.peca.disponivelLeilao}">
							<f:selectItem itemLabel="#{msgs.labelSim}" itemValue="1" />
							<f:selectItem itemLabel="#{msgs.labelNao}" itemValue="0" />
						</p:selectOneRadio>
						<h:outputLabel value="" />
					</p:panelGrid>
				</h:panelGroup>

				<h:panelGroup styleClass="sub-panel-right" layout="block">
					<p:panelGrid columns="3">
						<h:outputLabel value="#{msgs.labelAcervo}">
							<h:outputLabel value="*" styleClass="campo-obrigatorio" />
						</h:outputLabel>
						<p:selectOneMenu
							disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}"
							id="acervo" required="true" value="#{pecaBean.peca.acervo}">
							<f:selectItem itemLabel="#{msgs.labelSelecione}"
								itemValue="#{null}" />
							<f:selectItems value="#{pecaBean.listAcervo}" />
						</p:selectOneMenu>
						<p:message for="acervo" />

						<h:outputLabel value="#{msgs.labelClassificacao}">
							<h:outputLabel value="*" styleClass="campo-obrigatorio" />
						</h:outputLabel>
						<p:selectOneMenu
							disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}"
							id="classificacao" required="true"
							value="#{pecaBean.peca.classificacao}">
							<f:selectItem itemLabel="#{msgs.labelSelecione}"
								itemValue="#{null}" />
							<f:selectItems value="#{pecaBean.listClassificacao}" />
						</p:selectOneMenu>
						<p:message for="classificacao" />

						<h:outputLabel value="#{msgs.labelNome}">
							<h:outputLabel value="*" styleClass="campo-obrigatorio" />
						</h:outputLabel>
						<p:inputText
							disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}" id="nome"
							required="true" value="#{pecaBean.peca.nome}">
							<f:validateLength minimum="4" maximum="100" />
						</p:inputText>
						<p:message for="nome" />

						<h:outputLabel value="#{msgs.labelDescricao}" />
						<p:inputText
							disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}"
							value="#{pecaBean.peca.descricao}" />
						<h:outputLabel value="" />

						<h:outputLabel value="#{msgs.labelAutor}">
							<h:outputLabel value="*" styleClass="campo-obrigatorio" />
						</h:outputLabel>
						<p:inputText
							disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}"
							id="autor" required="true" value="#{pecaBean.peca.autor}">
							<f:validateLength minimum="4" maximum="100" />
						</p:inputText>
						<p:message for="autor" />

						<h:outputLabel value="#{msgs.labelPeriodo}" />
						<p:inputText
							disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}"
							value="#{pecaBean.peca.periodo}" />
						<h:outputLabel value="" />

						<h:outputLabel value="#{msgs.labelLargura}" />
						<p:spinner disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}"
							value="#{pecaBean.peca.largura}" />
						<h:outputLabel value="" />

						<h:outputLabel value="#{msgs.labelAltura}" />
						<p:spinner disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}"
							value="#{pecaBean.peca.altura}" />
						<h:outputLabel value="" />

						<h:outputLabel value="#{msgs.labelProfundidade}" />
						<p:spinner disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}"
							value="#{pecaBean.peca.profundidade}" />
						<h:outputLabel value="" />

						<h:outputLabel value="#{msgs.labelNumeroRegistro}" />
						<p:spinner disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}"
							id="numeroRegistro" value="#{pecaBean.peca.numeroRegistro}" />
						<p:message for="numeroRegistro" />

						<h:outputLabel value="#{msgs.labelPreco}">
							<h:outputLabel value="*" styleClass="campo-obrigatorio" />
						</h:outputLabel>
						<p:inputText
							disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}"
							id="preco" required="true" value="#{pecaBean.peca.preco}" />
						<p:message for="preco" />

						<h:outputLabel
							rendered="#{(pecaBean.usuarioLogado.idTipoUsuario eq 2) or ((pecaBean.novoRegistro) or ((not pecaBean.novoRegistro) and (pecaBean.peca.ativo eq 0)))}"
							value="#{msgs.labelSituacao}" />
						<p:selectOneRadio
							disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}"
							rendered="#{(pecaBean.usuarioLogado.idTipoUsuario eq 2) or ((pecaBean.novoRegistro) or ((not pecaBean.novoRegistro) and (pecaBean.peca.ativo eq 0)))}"
							value="#{pecaBean.peca.ativo}">
							<f:selectItem itemLabel="#{msgs.labelAtivo}" itemValue="1" />
							<f:selectItem itemLabel="#{msgs.labelInativo}" itemValue="0" />
						</p:selectOneRadio>
						<h:outputLabel
							rendered="#{(pecaBean.usuarioLogado.idTipoUsuario eq 2) or ((pecaBean.novoRegistro) or ((not pecaBean.novoRegistro) and (pecaBean.peca.ativo eq 0)))}"
							value="" />
					</p:panelGrid>
				</h:panelGroup>
			</h:panelGroup>

			<h:panelGroup styleClass="clear-panels" layout="block" />

			<p:commandButton action="#{pecaBean.saveAction}"
				disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}"
				styleClass="botao" update=":formPeca:dataTablePeca, :formModalPeca"
				value="#{msgs.labelSalvar}" />
			<p:commandButton
				disabled="#{pecaBean.usuarioLogado.idTipoUsuario eq 2}"
				onclick="modalPessoaWV.hide();" styleClass="botao-cancelar"
				title="#{msgs.labelCancelar}" value="#{msgs.labelCancelar}" />
		</h:form>
	</p:dialog>
</ui:composition>